<!DOCTYPE html>
<html lang="id">
<head>
    <style>
        :root { --primary: #f5c518; --bg: #0a0a0a; --card-bg: #141414; --text: #fff; }
        body { font-family: 'Inter', sans-serif; background: var(--bg); color: var(--text); margin: 0; }
        
        /* Layout Dasar */
        nav { background: #000; padding: 10px 5%; border-bottom: 1px solid #222; position: sticky; top: 0; z-index: 1000; }
        .container { padding: 20px 5%; min-height: 80vh; }
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); gap: 20px; }

        /* MODAL PLAYER */
        #playerModal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.98); z-index: 2000; overflow-y: auto; }
        .modal-body { width: 95%; max-width: 1000px; margin: 20px auto; }
        
        /* Bar Atas: Judul & Tombol Tutup */
        .modal-top-bar { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
        
        .video-container { position: relative; width: 100%; padding-top: 56.25%; background: #000; border-radius: 8px; overflow: hidden; border: 1px solid #444; }
        .video-container iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none; }

        /* SERVER BAR DI BAWAH VIDEO */
        .server-selection { margin-top: 15px; display: flex; align-items: center; gap: 10px; background: #111; padding: 10px; border-radius: 8px; border: 1px solid #333; }
        .server-label { font-size: 12px; color: #888; font-weight: bold; }

        .btn { padding: 8px 15px; border-radius: 4px; border: none; cursor: pointer; font-weight: bold; font-size: 12px; }
        .btn-srv { background: #333; color: #fff; }
        .btn-srv.active { background: var(--primary); color: #000; }
        .btn-close { background: #ff4444; color: #fff; }

        .episode-section { margin-top: 20px; background: #111; padding: 15px; border-radius: 8px; }
    </style>
</head>
<body>

<div id="playerModal">
    <div class="modal-body">
        <div class="modal-top-bar">
            <h3 id="pTitle" style="color: var(--primary); margin: 0; font-size: 18px;"></h3>
            <button class="btn btn-close" onclick="closePlayer()">TUTUP</button>
        </div>

        <div class="video-container">
            <iframe id="videoIframe" allowfullscreen></iframe>
        </div>
        
        <div class="server-selection">
            <span class="server-label">SERVER:</span>
            <button class="btn btn-srv active" id="bSrv1" onclick="setServer(1)">Server 1</button>
            <button class="btn btn-srv" id="bSrv2" onclick="setServer(2)">Server 2 (2Embed)</button>
        </div>

        <p id="pDesc" style="font-size: 13px; color: #aaa; margin-top: 15px; line-height: 1.6;"></p>

        <div id="episodeSection" class="episode-section" style="display:none;">
            <div id="seasonTabs" style="display:flex; gap:10px; overflow-x:auto; margin-bottom:15px;"></div>
            <div id="episodeGrid" style="display:grid; grid-template-columns:repeat(auto-fill, minmax(70px,1fr)); gap:10px;"></div>
        </div>
    </div>
</div>

<script>
    // Logika JavaScript (setServer, openPlayer, dll) tetap sama seperti sebelumnya
    // Pastikan fungsi setServer memperbarui class 'active' pada tombol yang baru
    function setServer(n) {
        curServer = n;
        document.getElementById('bSrv1').classList.toggle('active', n === 1);
        document.getElementById('bSrv2').classList.toggle('active', n === 2);
        
        const ifr = document.getElementById('videoIframe');
        if (n === 1) {
            ifr.src = curType === 'movie' ? `https://godriveplayer.com/player.php?imdb=${curIMDB}` : `https://godriveplayer.com/player.php?type=series&tmdb=${curTMDB}&season=${curS}&episode=${curE}`;
        } else {
            ifr.src = curType === 'movie' ? `https://www.2embed.cc/embed/tmdb/movie?id=${curTMDB}` : `https://www.2embed.cc/embed/tmdb/tv?id=${curTMDB}&s=${curS}&e=${curE}`;
        }
    }

    // Fungsi lainnya tidak berubah...
</script>
</body>
</html>
